# 海外红人营销工具 - 需求说明文档

## 一、需求背景

跨境品牌在进行海外红人营销时面临以下痛点：
1. **搜索效率低**：手动在 YouTube 搜索红人，筛选成本高
2. **评估不专业**：缺乏系统化的红人质量评估标准和数据支撑
3. **数据分散**：红人信息、联系方式、评估结果散落在多个表格中
4. **协作困难**：团队成员无法共享红人库和评估结果

本系统旨在提供一站式解决方案，从红人搜索、智能评估到联络管理，全流程数字化。

---

## 二、功能价值

| 功能模块 | 核心价值 |
|---------|----------|
| **红人搜索** | 自动化批量搜索，支持关键词检索和名单上传，减少80%筛选时间 |
| **智能评估** | 多维度数据分析（质量、匹配度、商单表现），精准匹配业务需求 |
| **联络管理** | 集中管理候选红人，自动获取联系邮箱，支持批量导出 |
| **项目隔离** | 多项目并行管理，数据隔离，适配代理公司和品牌内部团队 |

---

## 三、功能模块架构

### 3.1 模块关系图

```
登录 → 项目选择 → [搜索模块] → [评估模块] → [联络模块] → [追踪模块]
                      ↓              ↓              ↓
                   搜索结果 →    评估报告 →   联络候选列表
```

### 3.2 模块作用

| 模块 | 作用 | 输出 |
|------|------|------|
| **用户认证** | 登录验证，保持会话状态 | 用户信息、认证令牌 |
| **项目管理** | 隔离不同营销项目的数据 | 当前项目上下文 |
| **红人搜索** | 批量发现目标红人 | 红人列表（含基础数据） |
| **红人评估** | 深度分析红人质量和匹配度 | 评估报告（含评分、商单分析） |
| **红人联络** | 管理待联络的候选红人 | 联络名单（含邮箱） |
| **数据追踪** | 追踪合作红人的营销效果 | ROI 报表（待开发） |

---

## 四、功能模块详细说明

### 4.1 用户认证与项目管理（管理）

#### 功能描述
- **登录**：用户名/密码登录，LocalStorage 保持状态
- **项目切换**：支持多项目管理，切换项目后所有数据切换到对应项目

#### 交互描述
1. 用户登录成功后跳转到项目选择页
2. 选择项目后进入主工作区（左侧导航栏底部显示用户信息，logo 下方显示当前项目）
3. 点击项目切换按钮可随时返回项目列表

#### 模块联动
- 登录成功 → 获取用户项目列表
- 选择项目 → 所有业务模块（搜索/评估/联络）的数据过滤到当前项目

---

### 4.2 红人搜索模块

#### 功能描述

**4.2.1 搜索任务管理**
- 创建搜索任务（关键词搜索 / 上传红人ID名单）
- 查看任务列表（状态：已完成/搜索中/待处理/失败）
- 搜索任务名称和创建人
- 查看任务详情（右侧抽屉展示配置信息）

**4.2.2 关键词搜索**
- **必填**：任务名称、行业关键词、品牌关键词、竞品关键词
- **可选**：单个关键词搜索视频数、排序方式、国家偏好、检索维度、最小粉丝数
- **逻辑**：系统根据关键词在 YouTube 搜索，提取关联红人信息

**4.2.3 上传红人ID**
- **方式一**：上传 Excel 文件（含红人ID、频道ID）
- **方式二**：批量粘贴红人ID（支持换行/逗号/分号分隔）
- **用途**：快速评估已有的红人名单

**4.2.4 搜索结果展示**
- **筛选**：粉丝量级（8个档位）、国家
- **表格字段**：红人头像、名称、粉丝数、粉丝量级、视频数、总观看次数、平均观看、国家、命中关键词、频道简介
- **排序**：支持按粉丝数、视频数、观看量排序
- **导出**：导出当前筛选结果为 CSV

**4.2.5 批量评估**
- 选择红人后点击"开始评估"
- 配置频道类型优先级（P0/P1/P2）
- 创建评估任务，跳转到评估模块

#### 交互描述
1. 用户创建搜索任务，填写关键词或上传名单
2. 任务创建后进入"搜索中"状态（实际为 Mock 数据，立即完成）
3. 点击"查看结果"查看搜索到的红人列表
4. 使用筛选器过滤结果，勾选目标红人
5. 点击"开始评估"，配置频道类型后创建评估任务

#### 模块联动
- 搜索模块 → 评估模块：批量选择红人 → 创建评估任务
- 关键词配置 → 评估模块：行业/品牌/竞品关键词用于识别商单视频

---

### 4.3 红人评估模块

#### 功能描述

**4.3.1 评估任务管理**
- 查看评估任务列表（状态：已完成/分析中/待处理）
- 显示频道类型要求（P0/P1/P2）
- 搜索任务名称和创建人

**4.3.2 评估报告详情**
- **头部信息**：任务名称、频道类型要求、导出结果按钮
- **高级筛选**：
  - 数值筛选（5个）：质量评估、业务匹配度、均播、预估CPM、商单数量（支持大于/小于/介于）
  - 多选筛选（3个）：粉丝量级、国家、红人类型
- **动态列配置**：22个字段可配置（8个必选，14个可选），配置保存到 LocalStorage
- **默认展示字段**：红人、粉丝量级、国家、红人类型、质量评估、业务匹配度、近10条均播、互动率、商单数量、预估CPM、建议报价

**4.3.3 数据展示**
- **红人列**：头像 + 名称（上）+ @红人ID（下）
- **评分标签**：质量评估/业务匹配度（分数颜色分级：<60红色、60-80橙色、>80绿色）
- **数值格式化**：千分位 + 两位小数
- **商单视频链接**：最多显示2个，超出显示"+N 更多"

**4.3.4 批量操作**
- 选择红人后点击"添加到联络列表"
- 确认后添加到联络模块

**4.3.5 导出功能**
- 导出当前筛选后的评估结果
- 包含全部22个字段
- 文件名：评估结果_任务名_日期.xlsx

#### 交互描述
1. 用户从评估任务列表点击"查看报告"
2. 使用高级筛选器过滤红人（例如：质量评估>80、商单数量>5）
3. 通过列配置自定义显示字段
4. 查看红人详细数据，评估是否符合需求
5. 勾选合适的红人，点击"添加到联络列表"

#### 模块联动
- 评估模块 → 联络模块：批量选择红人 → 添加到联络候选列表
- 搜索关键词 → 评估模块：用于识别商单视频（标题/描述包含关键词）

---

### 4.4 红人联络模块

#### 功能描述

**4.4.1 联络候选列表**
- 显示待联络的红人候选
- **字段**：频道信息（头像、名称、订阅数）、联系邮箱、邮箱状态、报价预估
- **邮箱状态**：获取中（蓝色）、已验证（绿色）、未找到（灰色）、待处理（橙色）

**4.4.2 批量操作**
- **导出 Excel**：导出候选列表，包含频道名称、链接、订阅数、邮箱、质量评分、匹配评分、预估CPM、建议报价
- **开始联络活动**（待开发）

**4.4.3 空状态**
- 提示"还没有添加候选人"
- 提供"前往评估任务"快捷入口

#### 交互描述
1. 用户从评估报告添加红人到联络列表
2. 查看联络候选列表，确认邮箱状态
3. 导出 Excel 用于后续邮件营销或CRM录入

#### 模块联动
- 评估模块 → 联络模块：添加候选人
- 联络模块 → 外部系统：导出 Excel 用于邮件营销工具

---

### 4.5 数据追踪模块（待开发）

#### 规划功能
- 追踪已合作红人的视频发布情况
- 监控视频观看量、互动率、转化效果
- 生成 ROI 分析报表

---

## 五、核心交互流程

### 5.1 完整工作流

```
1. 登录 → 2. 选择项目 → 3. 创建搜索任务 → 4. 查看搜索结果
   → 5. 筛选红人 → 6. 批量评估 → 7. 查看评估报告
   → 8. 高级筛选 → 9. 添加到联络列表 → 10. 导出联络名单
```

### 5.2 关键交互规则

**筛选器行为**
- 所有筛选实时生效
- 支持多条件组合（AND逻辑）
- 筛选不影响数据源，只影响展示

**批量操作**
- 勾选行后底部浮动操作栏出现
- 显示已选择数量
- 操作完成后清空选择

**数据持久化**
- 列配置：保存到 LocalStorage
- 评估配置（P0/P1/P2）：保存到 LocalStorage，下次打开自动回填
- 项目切换：清空当前页面数据，重新加载

**导出规则**
- 导出的是"当前筛选后"的数据
- 文件名包含时间戳
- Excel 格式使用 XLSX 库

---

## 六、数据流转

### 6.1 搜索 → 评估

```
搜索结果数据
  ↓
选择红人 + 配置频道类型（P0/P1/P2）
  ↓
创建评估任务
  ↓
后端分析红人数据（视频、互动、商单）
  ↓
生成评估报告（质量评估、业务匹配度、商单分析等22个字段）
```

### 6.2 评估 → 联络

```
评估报告数据
  ↓
选择合格红人
  ↓
添加到联络候选列表
  ↓
显示红人基础信息 + 联系邮箱（自动抓取）
  ↓
导出 Excel 用于联络
```

### 6.3 关键词的作用

搜索任务中配置的关键词在评估阶段用于：
1. **识别商单视频**：视频标题/描述包含"行业关键词 + 品牌关键词"或"竞品关键词"
2. **计算商单数据**：商单均播、商单中位数、商单最高观看、商单视频链接

---

## 七、UI/UX 设计原则

### 7.1 整体风格
- **Notion 风格**：现代简洁、圆角设计、适当阴影
- **配色**：主色 #6C6C9C（紫灰）、背景 #fafafa
- **留白**：注重间距，避免拥挤感

### 7.2 导航布局
- **左侧导航栏**：固定宽度 260px，包含 Logo、项目切换、菜单、用户信息（底部）
- **主内容区**：右侧边距 60px，确保内容不贴边

### 7.3 表格设计
- **固定首列**：红人信息列固定，避免横向滚动时丢失上下文
- **行 Hover**：鼠标悬停高亮行
- **排序**：支持数值列排序
- **分页**：搜索结果每页20条，评估报告每页15条

### 7.4 交互反馈
- **加载状态**：骨架屏或 Spin 组件
- **操作确认**：删除、批量添加等操作需要二次确认
- **成功提示**：Message 组件提示操作结果

---

## 八、技术约束

### 8.1 前端技术栈
- React 18 + TypeScript + Vite
- Ant Design 5 + Tailwind CSS
- Zustand（状态管理）
- React Router（路由）
- XLSX（Excel导出）

### 8.2 数据持久化
- **LocalStorage**：
  - 用户认证信息
  - 当前项目
  - 列配置
  - 评估配置（P0/P1/P2）
  - 联络候选列表

### 8.3 Mock 数据
当前所有数据为 Mock：
- `/mock/searchTasks.ts`：搜索任务
- `/mock/searchResults.ts`：搜索结果
- `/mock/evaluateTasks.ts`：评估任务
- `/mock/evaluationResults.ts`：评估结果

后续需对接真实 API，替换 Mock 数据。

---

## 九、待开发功能

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 数据追踪模块 | P0 | 追踪合作红人的营销效果 |
| 邮箱自动抓取 | P0 | 从红人频道自动获取联系邮箱 |
| 联络活动管理 | P1 | 批量发送邮件、跟进记录 |
| 团队协作 | P1 | 多用户共享项目、权限管理 |
| API 对接 | P0 | 替换 Mock 数据，对接真实后端 |

---

## 十、开发交付清单

### 10.1 核心页面（已完成）
- [x] 登录页
- [x] 项目选择页
- [x] 搜索任务列表
- [x] 创建搜索任务
- [x] 搜索结果详情
- [x] 评估任务列表
- [x] 评估报告详情
- [x] 联络候选列表

### 10.2 核心组件（已完成）
- [x] MainLayout（左侧导航 + 主内容区）
- [x] NumberFilter（数值筛选组件）
- [x] ColumnConfigDropdown（列配置组件）
- [x] EvaluateConfigModal（评估配置弹窗）

### 10.3 状态管理（已完成）
- [x] useAuthStore（用户认证）
- [x] useProjectStore（当前项目）
- [x] usePitchStore（联络候选列表）

---

## 附录：术语表

| 术语 | 说明 |
|------|------|
| 红人 | YouTube 内容创作者 |
| 粉丝量级 | 按订阅数划分的8个等级（Nano/Micro/Micro+/Mid/Mid+/Macro/Top/Mega） |
| 均播 | 平均播放量 |
| CPM | Cost Per Mille，每千次展示成本 |
| 商单 | 包含品牌合作的视频（广告、赞助） |
| 互动率 | (点赞数 + 评论数) / 播放量 |
| 质量评估 | 红人内容质量评分（0-100） |
| 业务匹配度 | 与业务需求的匹配程度（0-100） |
| P0/P1/P2 | 频道类型优先级（P0最高） |
